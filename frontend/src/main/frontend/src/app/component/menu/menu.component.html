<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" routerLink="/">Система поддержки ГАК</a>
    </div>

    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav" *ngIf="rolesAndLinks.length == 1">
        <li class="dropdown">
          <a routerLink="{{rolesAndLinks[0].link}}">Рабочее место - {{rolesAndLinks[0].role}}</a>
      </ul>

      <div *ngIf="rolesAndLinks.length > 1">
        <ul class="nav navbar-nav">
          <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
               aria-expanded="false">Рабочий кабинет<span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li *ngFor="let role of rolesAndLinks">
                <a routerLink="{{role.link}}">{{role.role}}</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>

      <div class="nav navbar-nav navbar-right">
        <button *ngIf="principal.id == null" class="btn btn-default navbar-btn" data-toggle="modal"
                data-target="#loginModal" type="submit">Вход в систему
        </button>

        <div *ngIf="principal.id != null">
          <div class="principal">
            <h5>{{principal.name}}</h5>
          </div>
          <button type="button" class="btn btn-warning btn-sm btn-circle navbar-btn" (click)="showLogoutModal()">
            <span class="glyphicon glyphicon-log-out"></span>
          </button>
        </div>
      </div>

    </div>
  </div>
</nav>

<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="logoutConfirmModal" aria-hidden="true" id="logoutConfirmModal">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>
        <h4 class="modal-title">Подтверждение</h4>
      </div>
      <div class="modal-body">
        <h5>Вы действительно хотите выйти из системы?</h5>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="logout()">Да</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Нет</button>
      </div>
    </div>
  </div>
</div>

<login-modal></login-modal>
